"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var r,o=1,e=arguments.length;o<e;o++)for(var n in r=arguments[o])Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t}).apply(this,arguments)};exports.__esModule=!0;var Router=function(){function t(t){if(!("routes"in t))throw new Error("routes is a required config option");this.routes=t.routes,this.containerId="app",this.appRootId="__app__",this.appRoot=document.getElementById(this.appRootId),this.current=null}return t.prototype.getRoute=function(){var t=location.hash.substr(1),r={};return t.match(/\?(.*)=([^&]*)/)&&(r=this.qs(t)),{path:t,query:r}},t.prototype.getHandler=function(t){var r;for(var o in this.routes){if(t.path.match(this.routes[o].re)){r=__assign({name:o},this.routes[o]);break}}if(!r)throw new Error("Could not find handler for route");return r},t.prototype.go=function(t){window.location.href="#"+t},t.prototype.render=function(){console.time("route");var t=this.getRoute(),r=this.getHandler(t);(this.current=r).handler({router:this,route:t}),console.timeEnd("route")},t.prototype.trimSlashes=function(t){return t.replace(/^\/+|\/+$/g,"")},t.prototype.qs=function(t){if(""==t)return{};for(var r=t.split(/\?(.+)/)[1].split("&"),o={},e=0;e<r.length;e++){var n=r[e].split("=");o[n[0]]=decodeURIComponent(n[1])}return o},t.prototype.start=function(){var r=this;this.render(),window.onhashchange=function(t){r.render()}},t}();exports.Router=Router,exports.default=Router;